{% extends "base.html" %}
{% block hero %}
<section class="hero-banner">
  <img src="{{ url_for('static', filename='img/banner.jpg') }}" alt="Sonhos de Croch√™">
</section>
<section class="about-crochet">
  <div class="about-box">
    <span class="about-tag">Artesanato Exclusivo</span>
    
    <h2>Mais que bolsas, criamos arte em croch√™</h2>
    
    <p>
      Al√©m das nossas bolsas artesanais premium, tamb√©m produzimos 
      <strong>amigurumis, roupas em croch√™, biqu√≠nis e pe√ßas exclusivas sob encomenda</strong>. 
      Cada cria√ß√£o √© feita √† m√£o com carinho, qualidade e acabamento impec√°vel.
    </p>
  </div>
</section>
 
  
{% endblock %}

{% block content %}
<h2 id="catalogo" style="margin-top:18px;">Cat√°logo</h2>
<p class="muted">Produtos dispon√≠veis ‚Ä¢ Pronta entrega e encomenda.</p>

<div class="grid products">
  {% for p in products %}
  <div class="card">
    <a class="media" href="{{ url_for('product_detail', product_id=p.id) }}">
      {% if p.images and p.images|length > 0 %}
        <img src="{{ p.images[0].image_url }}" alt="{{ p.name }}">
      {% else %}
        <img src="{{ p.image_url or url_for('static', filename='img/placeholder.jpg') }}" alt="{{ p.name }}">
      {% endif %}
    </a>
    <div class="card-pad">
      <div class="h3">{{ p.name }}</div>
      <div class="muted">{{ (p.description[:86] ~ '‚Ä¶') if p.description and p.description|length > 86 else (p.description or '') }}</div>

      <div class="price">R$ {{ "%.2f"|format(p.price) }}</div>

      {% if pix_discount_percent() > 0 %}
        {% set pix_price = price_with_pix_discount(p.price) %}
        {% set eco = (p.price - pix_price) %}
        <div class="pix">
          <div class="line1">üí∞ {{ pix_discount_percent() }}% OFF no Pix</div>
          <div class="line2">Economia: R$ {{ "%.2f"|format(eco) }} ‚Ä¢ Pix: R$ {{ "%.2f"|format(pix_price) }}</div>
        </div>
      {% endif %}

      <a class="btn primary block" style="margin-top:12px" href="{{ url_for('product_detail', product_id=p.id) }}">Ver produto</a>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
